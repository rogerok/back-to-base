# Утиная типизация

Представьте себе функцию, которая проверяет, есть ли комментарии у статьи или топика

```ts
const hasComments = (commentable) => {
  // Если это статья
  if (commentable instanceof Article) {
    return commentable.getArticleComments().length > 0;
    // Если это топик
  } else if (commentable instanceof Topic) {
    return commentable.getTopicComments().length > 0;
  }
};
```

Ее можно переписать, используя полиморфизм подтипов.
Для этого нам нужно согласовать общий интерфейс для классов `Article` и `Topic`.

Тогда код станет таким

```ts
const hasComments = (commentable) => commentable.getComments().length > 0;

const article = Article.first();
console.log(hasComments(article));

const topic = Topic.first();
console.log(hasComments(topic));
```

Способность ф-ции обрабатывать объекты разных типов одинаковым образом называется полиморфизмом подтипов, а сама ф-ция полиморфной.

## Разница между параметрическим полиморфизмом и полиморфизмом подтипов

Параметрический полиморфизм реализует общий алгоритм для контейнера (например массив), который содержит значение или значения типа `T`.
Этот алгоритм не зависит от `T` и для любых `T` выполняется идентично.
В полиморфизме подтипов - алгоритм построен вокруг самого объекта и использует его методы.
